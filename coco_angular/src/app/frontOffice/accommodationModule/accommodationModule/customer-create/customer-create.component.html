<app-header-front></app-header-front>

<div class="submit-form" style="margin-bottom: 100px;margin-top:70px">
    <div *ngIf="!submitted">
      <div class="form-group">
        <label for="name">Name</label>
        <input type="text" class="form-control" id="name" required [(ngModel)]="customerData.name" name="name" readonly>
      </div>

      <div class="form-group">
        <label for="email">Email</label>
        <input type="email" class="form-control" id="email" required [(ngModel)]="customerData.email" name="email"readonly>
      </div>
      <div class="form-group">
        <label for="VisitDate">Choose a date that suits you</label>
        <input type="date" class="form-control" id="VisitDate" required [min]="todayDate" [(ngModel)]="VisitDate" name="VisitDate" >
      </div>

      <div class="form-group">
        <label for="paymentMethodId">Select card</label>
        <select class="form-control" id="paymentMethodId" required [(ngModel)]="customerData.paymentMethodId" name="paymentMethodId">
          <option *ngFor="let method of paymentMethods" [value]="method.id">
            <img [src]="method.imageUrl" class="card-image" alt="{{ method.name }}">
            {{ method.name }}

          </option>
        </select>
      </div>
      <div class="form-group">
        <label for="cardNumber">Card number</label>
        <input type="number" class="form-control" id="cardNumber" required [(ngModel)]="customerData.cardNumber" name="cardNumber" pattern="\d{16}" #cardNumber="ngModel">
        <div *ngIf="cardNumber.invalid && (cardNumber.dirty || cardNumber.touched)" class="alert alert-danger">
          Card number must be exactly 16 digits.
        </div>
      </div>
      <div class="form-group">
        <label for="CVC2">CVC2</label>
        <input type="text" class="form-control" id="CVC2" required [(ngModel)]="customerData.CVC2" name="CVC2" pattern="\d{3}" #cvc2="ngModel">
        <div *ngIf="cvc2.invalid && (cvc2.dirty || cvc2.touched)" class="alert alert-danger">
          CVC2 must be exactly 3 digits.
        </div>
      </div>


      <button (click)="createCustomer()" class="btn btn-success">Submit</button>
    </div>

    <div *ngIf="submitted">
      <h4>You submitted successfully!</h4>
      <button class="btn btn-success" (click)="newCustomer()">Add</button>
    </div>
  </div>
  <app-footer-front></app-footer-front>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>

<script>
  // Activation du carrousel pour chaque élément
  $('[id^="roomCarousel"]').each(function () {
    $(this).carousel();
  });
</script>
